<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [About Keychain][1]
-   [Operations][2]
    -   [hive_keychain][3]
        -   [requestHandshake][4]
            -   [Parameters][5]
        -   [requestVerifyKey][6]
            -   [Parameters][7]
        -   [requestSignBuffer][8]
            -   [Parameters][9]
        -   [requestAddAccountAuthority][10]
            -   [Parameters][11]
        -   [requestRemoveAccountAuthority][12]
            -   [Parameters][13]
        -   [requestAddKeyAuthority][14]
            -   [Parameters][15]
        -   [requestRemoveKeyAuthority][16]
            -   [Parameters][17]
        -   [requestBroadcast][18]
            -   [Parameters][19]
        -   [requestSignTx][20]
            -   [Parameters][21]
        -   [requestSignedCall][22]
            -   [Parameters][23]
        -   [requestPost][24]
            -   [Parameters][25]
        -   [requestVote][26]
            -   [Parameters][27]
        -   [requestCustomJson][28]
            -   [Parameters][29]
        -   [requestTransfer][30]
            -   [Parameters][31]
        -   [requestSendToken][32]
            -   [Parameters][33]
        -   [requestDelegation][34]
            -   [Parameters][35]
        -   [requestWitnessVote][36]
            -   [Parameters][37]
        -   [requestProxy][38]
            -   [Parameters][39]
        -   [requestPowerUp][40]
            -   [Parameters][41]
        -   [requestPowerDown][42]
            -   [Parameters][43]
        -   [requestCreateClaimedAccount][44]
            -   [Parameters][45]
        -   [requestCreateProposal][46]
            -   [Parameters][47]
        -   [requestRemoveProposal][48]
            -   [Parameters][49]
        -   [requestUpdateProposalVote][50]
            -   [Parameters][51]

## About Keychain

## ![][52]

Putting private keys directly into websites is not safe or secure, even ones run by reputable community members. Yet this is currently how nearly every Hive-based site or service currently works. On top of that, most Hive users likely use their master password which is even worse.

The Vessel desktop wallet software is a secure alternative, but it is too difficult to use for the majority of Hive users and does not easily interact with websites - which is Hive's primary use case.

On Ethereum, you never have to enter your private key into a website to use a dApp. You can just use a browser extension like Metamask, which dApp websites can interface with to securely store your keys and broadcast transactions to the blockchain.

Hive Keychain aims to bring the security and ease-of-use of Metamask to the Hive blockchain platform.

## Installation

You can download and install the latest published version of the extension for the following browsers:

-   Google Chrome (or Opera/Brave): [on Chrome Store][53]
    -   Export your keys from Steem keychain (in settings)
    -   Download this repository as zip
    -   Unzip the downloaded folder
    -   Right click on any existing extension > Manage my extensions.
    -   Activate developer mode.
    -   Click "Load Unpacked" and select the unzipped folder.
    -   Import your keys (use the same master password)
-   Firefox: [on Firefox Addon Store][54]

## Features

The Hive Keychain extension includes the following features:

-   Store an unlimited number of Hive account keys, encrypted with AES
-   View balances, transaction history, voting power, and resource credits
-   Send HIVE and HBD transfers, manage witness votes, and update HP delegation right from the extension
-   Manage your Hive Engine tokens
-   Power up or down
-   Securely interact with Hive-based websites that have integrated with Hive Keychain
-   Manage transaction confirmation preferences by account and by website
-   Locks automatically on browser shutdown or manually using the lock button

## Website Integration

Websites can currently request the Hive Keychain extension to perform the following functions / broadcast operations:

-   Send a handshake to make sure the extension is installed
-   Decrypt a message encrypted by a Hive account private key (commonly used for "logging in")
-   Post a comment (top level or reply)
-   Broadcast a vote
-   Broadcast a custom JSON operation
-   Send a transfer
-   Send Hive Engine tokens
-   Send Delegations
-   Power up/down
-   Vote for witnesses
-   Create/Remove/Vote for proposals
-   Create claimed accounts
-   Sign Tx

## Example

An example of a web page that interacts with the extension is included in the "example" folder in the repo. You can test it by running a local HTTP server and going to [http://localhost:1337/main.html][55] in your browser.

`cd example`
`python -m http.server 1337 //or any other method to run a static server`

NOTE: On localhost, it will only run on port 1337.


## Operations

The Hive Keychain extension will inject a "hive_keychain" JavaScript into all web pages opened in the browser while the extension is running. You can therefore check if the current user has the extension installed using the following code:


### hive_keychain

Use the `hive_keychain` methods listed below to issue requests to the Hive blockchain.

#### requestHandshake

This function is called to verify Keychain installation on a user's device

##### Parameters

-   `callback` **[function][56]** Confirms Keychain installation

#### requestVerifyKey

This function is called to verify that the user has a certain authority over an account, by requesting to decode a message

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `message` **[String][57]** Message to be decoded by the account
-   `key` **[String][57]** Type of key. Can be 'Posting','Active' or 'Memo'
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestSignBuffer

Requests a message to be signed with proper authority

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `message` **[String][57]** Message to be signed by the account
-   `key` **[String][57]** Type of key. Can be 'Posting','Active' or 'Memo'
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestAddAccountAuthority

Requests to add account authority over another account. For more information about multisig, please read [https://peakd.com/utopian-io/@stoodkev/how-to-set-up-and-use-multisignature-accounts-on-steem-blockchain][58]

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `authorizedUsername` **[String][57]** Authorized account
-   `role` **[String][57]** Type of authority. Can be 'Posting','Active' or 'Memo'
-   `weight` **[number][59]** Weight of the authority
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestRemoveAccountAuthority

Requests to remove an account authority over another account. For more information about multisig, please read [https://peakd.com/utopian-io/@stoodkev/how-to-set-up-and-use-multisignature-accounts-on-steem-blockchain][58]

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `authorizedUsername` **[String][57]** Account to lose authority
-   `role` **[String][57]** Type of authority. Can be 'Posting','Active' or 'Memo'
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestAddKeyAuthority

Requests to add a new key authority to an account. For more information about multisig, please read [https://peakd.com/utopian-io/@stoodkev/how-to-set-up-and-use-multisignature-accounts-on-steem-blockchain][58]

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `authorizedKey` **[String][57]** New public key to be associated with the account
-   `role` **[String][57]** Type of authority. Can be 'Posting','Active' or 'Memo'
-   `weight` **[number][59]** Weight of the key authority
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestRemoveKeyAuthority

Requests to remove a key to an account. For more information about multisig, please read [https://peakd.com/utopian-io/@stoodkev/how-to-set-up-and-use-multisignature-accounts-on-steem-blockchain][58]

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `authorizedKey` **[String][57]** Key to be removed (public key).
-   `role` **[String][57]** Type of authority. Can be 'Posting','Active' or 'Memo'.
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestBroadcast

Generic broadcast request

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `operations` **[Array][60]** Array of operations to be broadcasted
-   `key` **[String][57]** Type of key. Can be 'Posting','Active' or 'Memo'
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestSignTx

Requests to sign a transaction with a given authority

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `tx` **[Object][61]** Unsigned transaction
-   `key` **[String][57]** Type of key. Can be 'Posting','Active' or 'Memo'
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestSignedCall

Requests a signed call

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `method` **[String][57]** Method of the call
-   `params` **[String][57]** Parameters of the call
-   `key` **[String][57]** Type of key. Can be 'Posting','Active' or 'Memo'
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestPost

Requests to broadcast a blog post/comment

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `title` **[String][57]** Title of the blog post
-   `body` **[String][57]** Content of the blog post
-   `parent_perm` **[String][57]** Permlink of the parent post. Main tag for a root post
-   `parent_account` **[String][57]** Author of the parent post. Pass null for root post
-   `json_metadata` **[Object][61]** Parameters of the call
-   `permlink` **[String][57]** Permlink of the blog post
-   `comment_options` **[Object][61]** Options attached to the blog post. Consult Hive documentation to learn more about it
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestVote

Requests a vote

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `permlink` **[String][57]** Permlink of the blog post
-   `author` **[String][57]** Author of the blog post
-   `weight` **[String][57]** Weight of the vote, comprised between -10,000 (-100%) and 10,000 (100%)
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestCustomJson

Requests a custom JSON broadcast

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `id` **[String][57]** Type of custom_json to be broadcasted
-   `key` **[String][57]** Type of key. Can be 'Posting','Active' or 'Memo'
-   `json` **[String][57]** Stringified custom json
-   `display_msg` **[String][57]** Message to display to explain to the user what this broadcast is about
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestTransfer

Requests a transfer

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `to` **[String][57]** Hive account to receive the transfer
-   `amount` **[String][57]** Amount to be transfered. Requires 3 decimals.
-   `memo` **[String][57]** The memo will be automatically encrypted if starting by '#' and the memo key is available on Keychain. It will also overrule the account to be enforced, regardless of the 'enforce' parameter
-   `currency` **[String][57]** 'HIVE' or 'HBD'
-   `callback` **[function][56]** Keychain's response to the request
-   `enforce` **[boolean][62]** If set to true, user cannot chose to make the transfer from another account (optional, default `false`)
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestSendToken

Requests a token transfer

##### Parameters

-   `account` **[String][57]** Hive account to perform the request
-   `to` **[String][57]** Hive account to receive the transfer
-   `amount` **[String][57]** Amount to be transfered. Requires 3 decimals.
-   `memo` **[String][57]** Memo attached to the transfer
-   `currency` **[String][57]** Token to be sent
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestDelegation

Requests a delegation broadcast

##### Parameters

-   `username` **[String][57]** Hive account to perform the request
-   `delegatee` **[String][57]** Account to receive the delegation
-   `amount` **[number][59]** Amount to be transfered. Requires 3 decimals for HP, 6 for VESTS.
-   `unit` **[String][57]** HP or VESTS
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestWitnessVote

Requests a witness vote broadcast

##### Parameters

-   `username` **[String][57]** Hive account to perform the request
-   `witness` **[String][57]** Account to receive the witness vote
-   `vote` **[boolean][62]** Set to true to vote for the witness, false to unvote
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestProxy

Select an account as proxy

##### Parameters

-   `username` **[String][57]** Hive account to perform the request
-   `proxy` **[String][57]** Account to become the proxy. Empty string ('') to remove a proxy
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestPowerUp

Request a power up

##### Parameters

-   `username` **[String][57]** Hive account to perform the request
-   `recipient` **[String][57]** Account to receive the power up
-   `hive` **[number][59]** Amount of HIVE to be powered up
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestPowerDown

Request a power down

##### Parameters

-   `username` **[String][57]** Hive account to perform the request
-   `hive_power` **[number][59]** Amount of HIVE to be powered down
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestCreateClaimedAccount

Request the creation of an account using claimed tokens

##### Parameters

-   `username` **[String][57]** Hive account to perform the request
-   `new_account` **[String][57]** New account to be created
-   `owner` **[object][61]** owner authority object
-   `active` **[object][61]** active authority object
-   `posting` **[object][61]** posting authority object
-   `memo` **[String][57]** public memo key
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestCreateProposal

Request the creation of a DHF proposal

##### Parameters

-   `username` **[String][57]** Hive account to perform the request
-   `receiver` **[String][57]** Account receiving the funding if the proposal is voted
-   `subject` **[String][57]** Title of the DAO
-   `permlink` **[String][57]** Permlink to the proposal description
-   `daily_pay` **[number][59]** Daily amount to be received by `receiver`
-   `start` **[Date][63]** Starting date
-   `end` **[Date][63]** Ending date
-   `extensions` **[Array][60]** 
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestRemoveProposal

Request the removal of a DHF proposal

##### Parameters

-   `username` **[String][57]** Hive account to perform the request
-   `proposal_ids` **[Array][60]** Ids of the proposals to be removed
-   `extensions` **[Array][60]** 
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

#### requestUpdateProposalVote

Vote/Unvote a DHF proposal

##### Parameters

-   `username` **[String][57]** Hive account to perform the request
-   `proposal_ids` **[Array][60]** Ids of the proposals to be removed
-   `approve` **[boolean][62]** Set to true to support the proposal, false to remove a vote
-   `extensions` **[Array][60]** 
-   `callback` **[function][56]** Keychain's response to the request
-   `rpc` **[String][57]** Override user's RPC settings (optional, default `null`)

[1]: #about-keychain

[2]: #operations

[3]: #hive_keychain

[4]: #requesthandshake

[5]: #parameters

[6]: #requestverifykey

[7]: #parameters-1

[8]: #requestsignbuffer

[9]: #parameters-2

[10]: #requestaddaccountauthority

[11]: #parameters-3

[12]: #requestremoveaccountauthority

[13]: #parameters-4

[14]: #requestaddkeyauthority

[15]: #parameters-5

[16]: #requestremovekeyauthority

[17]: #parameters-6

[18]: #requestbroadcast

[19]: #parameters-7

[20]: #requestsigntx

[21]: #parameters-8

[22]: #requestsignedcall

[23]: #parameters-9

[24]: #requestpost

[25]: #parameters-10

[26]: #requestvote

[27]: #parameters-11

[28]: #requestcustomjson

[29]: #parameters-12

[30]: #requesttransfer

[31]: #parameters-13

[32]: #requestsendtoken

[33]: #parameters-14

[34]: #requestdelegation

[35]: #parameters-15

[36]: #requestwitnessvote

[37]: #parameters-16

[38]: #requestproxy

[39]: #parameters-17

[40]: #requestpowerup

[41]: #parameters-18

[42]: #requestpowerdown

[43]: #parameters-19

[44]: #requestcreateclaimedaccount

[45]: #parameters-20

[46]: #requestcreateproposal

[47]: #parameters-21

[48]: #requestremoveproposal

[49]: #parameters-22

[50]: #requestupdateproposalvote

[51]: #parameters-23

[52]: http://u.cubeupload.com/arcange/yOdI5g.png

[53]: https://chrome.google.com/webstore/detail/hive-keychain/jcacnejopjdphbnjgfaaobbfafkihpep

[54]: https://addons.mozilla.org/en-GB/firefox/addon/hive-keychain/

[55]: http://localhost:1337/main.html

[56]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/function

[57]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[58]: https://peakd.com/utopian-io/@stoodkev/how-to-set-up-and-use-multisignature-accounts-on-steem-blockchain

[59]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[60]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[61]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[62]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[63]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date
